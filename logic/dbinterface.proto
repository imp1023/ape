import "dbinterface_sub.proto";

/////////////////////////////////////////////////////////////////////////
//   禄霉麓隆陆谩鹿鹿                                                          //
/////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////
//   忙录媒戮                                                          //
/////////////////////////////////////////////////////////////////////////

message DB_Model
{
    optional int32           level                  = 1;  //等级
    optional int64           coins                  = 2;  //金币
    optional int64           minerals               = 3;  //矿石
    optional int64           coinsTotal             = 4;  //总金币
    optional int64           mineralsTotal          = 5;  //总矿石
    optional int64           score                  = 6;  //经验值
    optional int64           exp                    = 7;  //
    optional int64           cash                   = 8;  //国际货币
}

message DB_State
{
    optional int32          tutorialCompleted       = 1;  //新手流程是否完成
    optional int64          dmgProtectionTimeLeft   = 2;  //剩余伤害保护时间、伤害保护起效时间点
    optional int64          dmgProtectionTimeTotal  = 3;  //总的伤害保护时间
}

message DB_PlanetLiteInfo
{
    optional int64          uid                     = 1;
    optional string         planetId                = 2;        
}

message DB_Item
{
    optional int32          sid                     = 1;
    optional string         sku                     = 2;
    optional int32          type                    = 3;
    optional int32          upgradeId               = 4;
    optional int32          isFlipped               = 5;
    optional int32          energyPercent           = 6;
    optional int32          energy                  = 7;
    optional int32          x                       = 8;
    optional int32          y                       = 9;
    optional int32          state                   = 10;
    optional int64          time                    = 11;
    optional int32          incomeToRestore         = 12;
    optional int32          repairing               = 13;
    optional int64          repairStart             = 14;
    optional int64          updateAt                = 15;
    optional int32          id                      = 16;
    optional int32         collecttime              = 17;
    //repeated item           // 卤酶鲁搂 // 卤酶陋(麓芦) // 碌卤陇
}

message DB_HangarUnit
{
    optional int32          sku                     = 1;
    optional int32          num                     = 2;    
}

message DB_Hangar
{
    optional int32          sid                     = 1;
    repeated DB_HangarUnit  units                   = 2;
}

message DB_GameUnit
{
    optional int32          sku                     = 1;
    optional int32          unlock                  = 2;
    optional int32          upgradeId               = 3;
    optional int32          timeLeft                = 4;
    optional int64          updateAt                = 5;    
}

message DB_Shipyard
{
    optional int32 sid = 1;
    optional int32 unlockedSlots =  2;
    optional int32 updatedAt = 3;
    repeated DB_Slot slot = 4;
}

message DB_Slot
{
    optional int32 skuNum = 1;
    optional string sku = 2;
    optional int32 timeLeft = 3; 
}

message DB_BunkerUnit
{
    optional string sku = 1;
    repeated int32 Unit = 2;
    optional int32 num = 3;
}

message DB_Bunker
{
    optional int32 sid = 1;
    optional string helpersAccountIds = 2;
    repeated DB_BunkerUnit Bunker = 3;
}

message DB_StarLite
{
    optional int32 starId = 1;
    optional int32 starName = 2;
    optional int32 starType = 3;
    optional string sku = 4;
}

message DB_Planet
{
    optional int32          id                      = 1; 
    optional int32          type                    = 2;
    optional int32          HQLevel                 = 3;
    optional int32          Droids                  = 4;
    optional int32          DroidInUse              = 5;
    optional int32          Capital                 = 6;
    optional int64          CoinsLimit              = 7;
    optional int64          MineralLimit            = 8;
    optional DB_StarLite    star                    = 9;
    repeated DB_Item        items                   = 10;
    repeated DB_Hangar      hangars                 = 11;
    repeated DB_GameUnit    units                   = 12;
    repeated DB_Shipyard    shipyard                = 13;
    repeated DB_Bunker      bunkers                 = 14;
}

message DB_NPC
{
    optional int32          sku                     = 1;
    optional int32          exp                     = 2;
    optional int32          HQLevel                 = 3;
    optional int32          npcId                   = 4;
    repeated DB_Item        items                   = 5;
}

message DB_SocialItem
{
    optional string         sku                      = 1;
    optional int32          amount                   = 2;  
    optional int32          counter                  = 3;
    optional int64          timeLeft                 = 4;
    optional int64          timeOver                 = 5;
}

message DB_MissionParam
{
    optional string Target = 1;
    optional int32 endTime = 2;
    optional string sku = 3;
    optional string progress = 4;
    optional int32 state = 5;
}

message DB_Mission
{
    optional string ReadyToStart = 1;
    optional string Available = 2;
    optional string Rewarded = 3;
    optional string Completed = 4;
    repeated DB_MissionParam Params = 5;
}

message DB_WishItem
{
    optional string sku = 1;
}

message DB_WishItemList
{
    repeated DB_WishItem wishItem = 1;
}

message DB_StarsBookmark
{
    optional int32 starName = 1; //": "毛里求斯",
    optional string sku = 2; //": "2:0",
    optional int32 starType = 3; //": 1,
    optional int32 starId = 4; //": 2031,
}

message DB_Player
{
    optional DB_Model        model                  = 1; //忙录拢
    optional DB_State        state                  = 2; //忙录麓卢
    repeated DB_Planet       planets                = 3; //貌媒戮
    repeated DB_NPC          npcs                   = 4; //npc(A/B/C/D)
    optional DB_Flag         flag                   = 5; //music sound quality alliance
    repeated DB_SocialItem   socialItems            = 6;
    optional DB_Mission      missions               = 7;
    optional DB_WishItemList wishItemList           = 8;
    repeated DB_StarsBookmark bookmarks             = 9;
}

message DB_DailyLogon
{
    optional int32 firstday = 1[default = 0];  // 驴碌陆禄卯露炉碌路禄矛
    optional int32 daycount = 2[default = 0];  // 驴碌陆禄卯露炉碌矛媒
}

message DB_ActiveContinueLogon
{
    optional int32 logonDays = 1[default = 0];
    optional bool    hasGet = 2[default = false];
    optional int32 lastLogonTime = 3[default = 0];
}

message DB_User
{
    required int64          id                      = 1 [default = 0] ;
    required string         platform_id             = 2 [default = ""] ;
    repeated string         name                    = 3; //没潞麓陆拢卢路拢驴录盲
    repeated string         profile_link            = 4;
    required int32          gender                  = 5; //性别
    required int64          last_login_time         = 6 [default = 0] ;
    required string         last_login_ip           = 7 [default = ""] ;
    required int64          regist_time             = 8 [default = 0] ;
    optional int32          yellowDmdLvl            = 9  [default = 0];     //黄钻等级
    optional bool           isYellowDmd             = 10 [default = false]; //是不是黄钻
    optional bool           isYellowDmdYear         = 11 [default = false]; //是不是年费黄钻
    optional int64          getDayYellowGiftDay     = 12[default = 0];  //获得黄钻每日礼包的时间                    
    optional bool           getNewYellowGift        = 13 [default = false];    //是否领取了黄钻礼包
    optional int64          last_logout_time        = 14;
    required DB_Player      player                  = 15;
    optional DB_BanLogin    banlogin                = 16;  //是否禁止登陆
    optional bool           transferbymysql         = 17 [default = false]; //是不是从mysq中导入用户
    optional int32          mysqluserid             = 18 [default = 0];        //mysql中导入用户ID
    optional int32          ExpiateFlag             = 19 ;//补偿标志   
    optional int32          sendgiftcount           = 20; // 每天接受腾讯免费礼物的数量
    optional int32          selfgiftcount           = 21; // 每天送出免费礼物的数量
    optional int32          giftwincount            = 22; // 每天免费礼物弹窗次数
    optional int32          destroytime             = 23[default = 0]; // 摧毁对方基地的次数
    repeated DB_LootReport  fightrecord             = 24; // 战斗记录
    optional DB_DailyLogon  dailylogin              = 25; // 每日登陆天数
    optional bool           bannergift              = 26[default = false]; // 是否领过条幅礼物   
    optional int32          landingdaygiftbit       = 27 [default = 0];     //连续登陆天数奖品是否领取的标志位
    optional int32          landdaycount            = 28 [default = 0];      //连续登陆奖励的连续登陆天数，这个字段和每日登陆活动的天数的字段重复，
    optional int64          webOnceFlag             = 29[default = 0];  //web端活动标记，用于web端接口只调用一次
    optional DB_GiftInfo    giftInfo                = 30;   //礼物信息，已移植到plat上，此项失效   
    //Q+会员
    optional int32          QQDmdLvl                = 31 [default = 0];     //QQ会员等级等级
    optional bool           isQQDmd                 = 32 [default = false]; //是不是QQ会员
    optional bool           isQQDmdYear             = 33 [default = false]; //是不是年费QQ会员
    optional int64          getDayQQGiftDay         = 34 [default = 0];     //获得QQ每日礼包的时间                    
    optional bool           getNewQQGift            = 35 [default = false]; //是否领取了QQ礼包

    optional int32          region                  = 36 [default = 0]; //霉么路酶  
    
    optional int32        logondaycount             = 37 [default = 0];   //碌陆矛媒拢卢陆录篓碌鲁录录
    optional int32        city                      = 38 [default = 0]; //霉么鲁 1卤卤戮漏2潞拢3卯4鹿茫 0 盲没    
    optional bool         isHighYellowDmd           = 39 [default = false]; //虏禄潞禄陋禄锚
    optional DB_ActiveContinueLogon activeContinueLogon = 40;
    optional bool          isActiveLogon            = 41[default = false];
    optional bool          hasGetRecall             = 42[default = false];//路帽戮颅禄帽碌禄鹿茅卤娄盲
    optional int32         lastRepairTime           = 43[default = 0];
    optional int32         landDayCountEx           = 44[default = 0];
    optional int32         landDayGiftEx            = 45[default = 0];
    optional DB_Officer    officer                  = 46;  //鹿煤录鹿卤
    optional int32         destroynpctime           = 47[default = 0]; // 麓禄NPC禄霉碌碌麓媒
    optional bool          bRegisterNum             = 48[default = false];  //路帽碌录qq潞
    optional bool          bAdult                   = 51[default = true];   //路帽鲁锚
}
